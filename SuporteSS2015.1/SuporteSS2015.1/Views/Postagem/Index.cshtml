@model IEnumerable<SuporteSS2015._1.Models.Postagem>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row-fluid">

        <div class="span3 statbox purple" ontablet="span6" ondesktop="span3">
            <div class="boxchart"><canvas width="64" height="60" style="display: inline-block; width: 64px; height: 60px; vertical-align: top;"></canvas></div>
            <div class="number">@ViewBag.Categorias<i class="icon-arrow-up"></i></div>
            <div class="title">Categorias</div>
            <div class="footer">
                <a href="#"> Ler relatório completo</a>
            </div>
        </div>
        <div class="span3 statbox green" ontablet="span6" ondesktop="span3">
            <div class="boxchart"><canvas width="64" height="60" style="display: inline-block; width: 64px; height: 60px; vertical-align: top;"></canvas></div>
            <div class="number">@ViewBag.Postagens<i class="icon-arrow-up"></i></div>
            <div class="title">Tópicos</div>
            <div class="footer">
                <a href="~/Categorias">Lista de Tópicos</a>
            </div>
        </div>
        <div class="span3 statbox blue noMargin" ontablet="span6" ondesktop="span3">
            <div class="boxchart"><canvas width="64" height="60" style="display: inline-block; width: 64px; height: 60px; vertical-align: top;"></canvas></div>
            <div class="number">@ViewBag.Respostas<i class="icon-arrow-up"></i></div>
            <div class="title">Respostas</div>
            <div class="footer">
                <a href="#"> Lista de Respostas</a>
            </div>
        </div>
        <div class="span3 statbox yellow" ontablet="span6" ondesktop="span3">
            <div class="boxchart"><canvas width="69" height="60" style="display: inline-block; width: 69px; height: 60px; vertical-align: top;"></canvas></div>
            <div class="number">@ViewBag.Postagens<i class="icon-arrow-down"></i></div>
            <div class="title">Mensagens</div>
            <div class="footer">
                <a href="#"></a>
            </div>
        </div>
    </div>

<br />
<div class="form-group">
    @Html.ActionLink("Publicar Mensagem", "Create", null, null, new { @class = "btn btn-primary" })
</div>

<div class="panel panel-default">
    <div class="panel-heading"><h3><b>Publicações para o tópico: @ViewBag.nomeTopico<span class="badge">@Model.Count()</span></b></h3></div>
    <div class="panel-body">
        @foreach (var item in Model)
        {
            <div class="panel panel-default">
                <div class="panel-heading">
                    <b>
                        <span class="glyphicon glyphicon-user" aria-hidden="true">
                         @*@Html.DisplayFor(modelItem => item.usuario.nome)*@</span>
                        @Html.DisplayFor(modelItem => item.Topico)
                        Publicado em: @Html.DisplayFor(modelItem => item.DataPostagem)
                    </b>
                </div>
                <div class="panel-body">
                    <span class="glyphicon glyphicon-hand-right" aria-busy ="true"></span>
                    @Html.Raw(item.Mensagem)
                    <strong>Categoria - @Html.DisplayFor(modelItem => item.Categoria.Categoria)</strong><br />  
                  
          
                    
                    @Html.ActionLink("Nova", "Create", "Respostas", new {id = item.Id}, null) |
                    @Html.ActionLink("Lista", "Index", "Respostas", new { id = item.Id }, null)<span class="badge">@item.Resposta.Count</span>
                   

                </div>
            </div>
        }
    </div>
</div>

